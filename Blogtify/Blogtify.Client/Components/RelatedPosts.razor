@inject AppDataManager AppDataManager

<BitShimmer Loaded="@(!isLoading)" AriaLabel="Đang tải bài viết liên quan"
            Height="1.5rem" Background="BitColor.PrimaryBackground">
    @foreach (var content in _contents)
    {
        <ContentCard Content="@content" />
    }
</BitShimmer>

@code {
    [Parameter, EditorRequired]
    public ContentDto Content { get; set; } = default!;

    private List<ContentDto> _contents = [];

    private bool isLoading = false;

    protected override void OnParametersSet()
    {
        isLoading = true;
        _contents = AppDataManager.GetRecommendContents(Content);
        isLoading = false;
    }
}
